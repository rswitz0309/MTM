<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forgot Password</title>
  <link rel="stylesheet" href="style_forgot_pass.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
  <a href="login.html" class="back-button">
    <i class="fas fa-arrow-left"></i> Back to Login
  </a>
  <div class="forgot-password-container">
    <h2>Forgot Password</h2>
    <p>Please enter your email address and Trucker ID. We will send you instructions to reset your password.</p>
    <form id="forgot-password-form">
      <input type="email" id="email" name="email" required placeholder="Enter your email">
      <input type="text" id="truckerID" name="truckerID" required placeholder="Enter your Trucker ID">
      <button type="submit" onclick="handleForgotPassword(event)">Submit</button>
    </form>
    <p id="message"></p>
  </div>

  <script>
    function handleForgotPassword(event) {
      event.preventDefault();
      
      const email = document.getElementById('email').value;
      const truckerID = document.getElementById('truckerID').value;
      const messageElement = document.getElementById('message');

      // Check if the truckerID exists in our database
      const validTruckerIDs = ["40513272", "40317095", "45123212", "45123213", "45123214"];
      
      if (validTruckerIDs.includes(truckerID)) {
        messageElement.textContent = "Password reset instructions have been sent to your email.";
        messageElement.style.color = "green";
        
        // Reset form
        document.getElementById('forgot-password-form').reset();
        
        // Redirect to login page after 3 seconds
        setTimeout(() => {
          window.location.href = "login.html";
        }, 3000);
      } else {
        messageElement.textContent = "Invalid Trucker ID. Please try again.";
        messageElement.style.color = "red";
      }
    }
  </script>
</body>
</html>